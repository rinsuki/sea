extends layout

block init
    - var title = "Login"

block head
    if recaptchaSiteKey != null
        script(src="https://www.google.com/recaptcha/api.js", async, defer)

block content
    h1 ログイン - Sea
    if session
        p
            | すでに
            strong @#{session.user.screenName}
            | でログインしています。
        p 別のアカウントでログインしたい場合は、
            a(href="/logout") ログアウト
            | してください。
    form(method="POST")
        table
            tr
                th スクリーンネーム
                td
                    input(type="text", placeholder="abcdefgh", name="screen_name", pattern="^[0-9A-Za-z_]{1,20}$", required, maxlength=20)
            tr
                th パスワード
                td
                    input(type="password", placeholder="パスワード", name="password", minlength=8, required)
        if recaptchaSiteKey != null
            div.g-recaptcha(data-sitekey=recaptchaSiteKey)
        input(type="submit", value="ログイン")
